
# Инструкция по запуску и использованию приложения

## Требования
Перед началом убедитесь, что установлены следующие компоненты:
- Python 3.7 или выше.
- Пакетный менеджер `pip` для установки зависимостей.
- Аккаунт Яндекс.Диск для получения `client_id` и `client_secret`.
- Среда разработки, такая как VS Code, PyCharm, или даже обычный текстовый редактор.

## Шаги для настройки и запуска приложения

1. **Клонируйте или скачайте проект:**
   Скачайте архив проекта и распакуйте его.

2. **Создайте виртуальное окружение (рекомендуется):**
   Виртуальное окружение помогает изолировать зависимости проекта. Выполните команду:
   ```sh
   python -m venv venv
   ```
   Затем активируйте окружение:
   - На Windows: `venv\Scripts\activate`
   - На MacOS/Linux: `source venv/bin/activate`

3. **Установите необходимые зависимости:**
   Перейдите в директорию проекта и установите зависимости с помощью `pip`:
   ```sh
   pip install -r requirements.txt
   ```

4. **Настройте файл конфигурации `.config`:**
   Проект использует файл `.config` для хранения OAuth параметров и секретного ключа Flask. Откройте файл `.config` и введите следующие параметры:

   ```
   [OAuth]
   client_id = ваш_client_id_от_Яндекс_Диска
   client_secret = ваш_client_secret_от_Яндекс_Диска
   redirect_uri = http://localhost:5000/oauth/callback

   [Flask]
   secret_key = секретный_ключ
   ```

   Для получения `client_id` и `client_secret` зарегистрируйтесь на Яндекс.Диске как разработчик и создайте приложение.

5. **Запустите приложение:**
   В директории с проектом выполните команду:
   ```sh
   python app.py
   ```
   После успешного запуска приложение будет доступно по адресу [http://localhost:5000](http://localhost:5000).

## Использование приложения

1. **Авторизация через Яндекс OAuth:**
   - Перейдите на [http://localhost:5000](http://localhost:5000).
   - Нажмите на кнопку "Авторизоваться через Яндекс".
   - Войдите в свой аккаунт Яндекс и предоставьте доступ приложению.

2. **Просмотр файлов на Яндекс.Диске:**
   - После успешной авторизации, на главной странице введите публичный ключ для доступа к общедоступным файлам на Яндекс.Диске.
   - Нажмите "Показать файлы".

3. **Навигация по папкам и фильтрация:**
   - На странице `dashboard` вы увидите список файлов и папок. Можно кликнуть на папку, чтобы перейти внутрь.
   - Для фильтрации файлов выберите нужный тип файлов из выпадающего списка и нажмите "Применить фильтр".

4. **Скачивание файлов:**
   - Рядом с каждым файлом есть кнопка "Скачать", которая позволяет загрузить файл через сервер.

5. **Возвращение к корневой директории:**
   - На странице файлов есть кнопки "Назад" и "Вернуться в корень" для удобной навигации.

6. **Выход из приложения:**
   - Чтобы выйти из приложения, нажмите кнопку "Выйти".

## Возможные проблемы и их решения

- **Проблема с авторизацией:** Убедитесь, что ваш `client_id`, `client_secret` и `redirect_uri` корректны.
- **Не отображаются файлы:** Убедитесь, что вы ввели корректный публичный ключ и у вас есть доступ к этим файлам на Яндекс.Диске.
- **Ошибка при скачивании файла:** Если вместо файла загружается HTML-страница, проверьте маршрут `/download`, чтобы убедиться, что скачивание происходит через сервер, а не через прямой `public_url`.

Следуя этим инструкциям, вы сможете успешно настроить и использовать приложение для работы с файлами на Яндекс.Диске.
